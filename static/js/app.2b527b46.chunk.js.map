{"version":3,"sources":["constants.js","calcs.js","Listeners/WidgetsUpdate.js","logo.svg","app.js"],"names":["SHAPE","LINE","QUARTER","HALF","APP_ID","AVAILABLE_SHAPES","RECTANGLE","CIRCLE","TRIANGLE","PARALLELOGRAM","parallelogramArea","width","height","parallelogramPerimeter","calculateAreaForShape","shape","areaType","console","log","base","area","toLowerCase","triangleArea","horizontalDiameter","verticalDiameter","verticalRadius","horizontalRadius","Math","PI","ellipseArea","calculatePerimeterForShape","perimeter","sqrt","pow","trianglePerimeter","ellipsePerimeter","LOCAL_SHAPES","updateShapesAreaPerimeter","widgets","forEach","widget","metadata","Object","values","includes","style","shapeType","calculatedArea","calculatedPerimeter","push","id","groupId","updateLocalShapes","miro","board","update","updateMiroShape","App","onReady","addListener","handleClick","a","get","type","allShapes","className","src","logo","alt","onClick","updateStyle","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/app.2b527b46.chunk.js","sourcesContent":["export const SHAPE = \"SHAPE\";\nexport const LINE = \"LINE\"\nexport const QUARTER = \"quarter\";\nexport const HALF = \"half\";\nexport const APP_ID = \"3074457358398558776\";\nexport const AVAILABLE_SHAPES = {\n  RECTANGLE: 3,\n  CIRCLE: 4,\n  TRIANGLE: 5,\n  PARALLELOGRAM: 10,\n};\n","/* eslint-disable no-undef */\nimport { AVAILABLE_SHAPES, HALF, QUARTER } from \"./constants\";\n\nconst parallelogramArea = (width, height) => width * height;\n\nconst parallelogramPerimeter = (width, height) => width * 2 + height * 2;\n\nconst ellipseArea = (horizontalDiameter, verticalDiameter, areaType) => {\n  const verticalRadius = verticalDiameter / 2;\n  const horizontalRadius = horizontalDiameter / 2;\n\n  const area = Math.PI * verticalRadius * horizontalRadius;\n\n  if (areaType.toLowerCase() === QUARTER) return area / 4;\n\n  if (areaType.toLowerCase() === HALF) return area / 2;\n\n  return area;\n};\n\nconst ellipsePerimeter = (horizontalDiameter, verticalDiameter, areaType) => {\n  const verticalRadius = verticalDiameter / 2;\n  const horizontalRadius = horizontalDiameter / 2;\n\n  const perimeter =\n    Math.PI *\n    (3 * (horizontalRadius + verticalRadius) -\n      Math.sqrt(\n        (3 * horizontalRadius + verticalRadius) *\n          (horizontalRadius + 3 * verticalRadius)\n      ));\n\n  if (areaType.toLowerCase() === QUARTER) return perimeter / 4;\n\n  if (areaType.toLowerCase() === HALF) return perimeter / 2;\n\n  return perimeter;\n};\n\nconst triangleArea = (base, height, areaType) => {\n  const area = (base * height) / 2;\n\n  if (areaType.toLowerCase() === HALF) return area / 2;\n\n  return area;\n};\n\nconst trianglePerimeter = (base, height, areaType) => {\n  const perimeter =\n    base + Math.sqrt(Math.pow(base, 2) + 4 * Math.pow(height, 2));\n\n  if (areaType.toLowerCase() === HALF) return perimeter / 2;\n\n  return perimeter;\n};\n\n// export const updateShapeMetadata = async (widgetId) => {\n//   const widget = await miro.board.widgets.get({ id: widgetId });\n//   miro.board.widgets.update({\n//     id: widget[0].id,\n//     metadata: {\n//       \"3074457358398558776\": {\n//         area: squareArea(widget[0].width, widget[0].height),\n//         perimeter: squarePerimeter(widget[0].width, widget[0].height),\n//       },\n//     },\n//   });\n// };\n\nexport const calculateAreaForShape = (shape, width, height, areaType) => {\n  console.log(shape);\n  console.log(width);\n  console.log(height);\n  console.log(areaType);\n  switch (shape) {\n    case AVAILABLE_SHAPES.RECTANGLE:\n      return parallelogramArea(width, height);\n    case AVAILABLE_SHAPES.TRIANGLE:\n      return triangleArea(width, height, areaType);\n    case AVAILABLE_SHAPES.CIRCLE:\n      return ellipseArea(width, height, areaType);\n    case AVAILABLE_SHAPES.PARALLELOGRAM:\n      return parallelogramArea(width, height);\n    default:\n      return undefined;\n  }\n};\n\nexport const calculatePerimeterForShape = (shape, width, height, areaType) => {\n  switch (shape) {\n    case AVAILABLE_SHAPES.RECTANGLE:\n      return parallelogramPerimeter(width, height);\n    case AVAILABLE_SHAPES.TRIANGLE:\n      return trianglePerimeter(width, height, areaType);\n    case AVAILABLE_SHAPES.CIRCLE:\n      return ellipsePerimeter(width, height, areaType);\n    case AVAILABLE_SHAPES.PARALLELOGRAM:\n      return parallelogramPerimeter(width, height);\n    default:\n      return undefined;\n  }\n};\n","/* eslint-disable no-undef */\nimport { AVAILABLE_SHAPES, APP_ID } from \"../constants\";\nimport { calculateAreaForShape, calculatePerimeterForShape } from \"../calcs\";\n\nexport let LOCAL_SHAPES = [];\nexport let LOCAL_LINES = [];\nexport let LOCAL_GROUPS = [];\n\n// const updateShapeAreas = async (widgetId, shapeType, updateArea) => {\n//   const widget = await miro.board.widgets.get({ id: widgetId });\n//   miro.board.widgets.update({\n//     id: widget[0].id,\n//     metadata: {\n//       \"3074457358398558776\": {\n//         area: squareArea(widget[0].width, widget[0].height),\n//         perimeter: squarePerimeter(widget[0].width, widget[0].height),\n//       },\n//     },\n//   });\n// };\n\nconst updateMiroShape = (id, area, perimeter, areaType) => {\n  miro.board.widgets.update({\n    id,\n    metadata: {\n      [APP_ID]: {\n        area,\n        perimeter,\n        areaType,\n      },\n    },\n  });\n};\n\nconst updateLocalShapes = (widget, areaType, area, perimeter) =>\n  LOCAL_SHAPES.push({\n    id: widget.id,\n    areaType,\n    area,\n    perimeter,\n    width: widget.width,\n    height: widget.height,\n    groupId: widget.groupId,\n    shapeType: widget.style.shapeType,\n  });\n\nexport const updateShapesAreaPerimeter = (widgets) => {\n  LOCAL_SHAPES = [];\n  widgets.forEach((widget) => {\n    let areaType = widget.metadata[APP_ID]?.areaType || \"full\";\n    let area = widget.metadata[APP_ID]?.area || 0;\n    let perimeter = widget.metadata[APP_ID]?.perimeter || 0;\n\n    // if (widget.metadata[APP_ID]?.areaType) {\n    //   areaType = widget.metadata[APP_ID].areaType;\n    // }\n\n    if (Object.values(AVAILABLE_SHAPES).includes(widget.style.shapeType)) {\n      const calculatedArea = calculateAreaForShape(\n        widget.style.shapeType,\n        widget.width,\n        widget.height,\n        areaType\n      );\n\n      const calculatedPerimeter = calculatePerimeterForShape(\n        widget.style.shapeType,\n        widget.width,\n        widget.height,\n        areaType\n      );\n\n      updateLocalShapes(widget, areaType, calculatedArea, calculatedPerimeter);\n\n      if (area !== calculatedArea || perimeter !== calculatedPerimeter) {\n        updateMiroShape(\n          widget.id,\n          calculatedArea,\n          calculatedPerimeter,\n          widget.style.shapeType,\n          areaType\n        );\n      }\n    }\n  });\n};\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","/* eslint-disable no-undef */\nimport logo from \"./logo.svg\";\nimport \"./app.css\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport { LOCAL_SHAPES } from \"./Listeners/WidgetsUpdate\";\nimport { SHAPE } from \"./constants\";\n\nfunction App() {\n  miro.onReady(() => {\n    miro.addListener(\"SELECTION_UPDATED\", (widget) => {\n      console.log(\"SELECTION_UPDATED\");\n      console.log(widget);\n    });\n  });\n\n  const handleClick = async () => {\n    let allShapes = await miro.board.widgets.get({ type: SHAPE });\n    console.log(allShapes);\n    console.log(\"LOCAL SHAPES\");\n    console.log(LOCAL_SHAPES);\n    // let allFrames = await miro.board.widgets.get({ type: \"frame\" });\n    // console.log(allFrames);\n    // let allCurves = await miro.board.widgets.get({ type: \"curve\" });\n    // console.log(allCurves);\n    // let allLines = await miro.board.widgets.get({ type: \"line\" });\n    // console.log(allLines);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>App version 1.15</p>\n        <button onClick={() => handleClick()}>Click Here</button>\n        <button onClick={() => updateStyle()}>Change Style</button>\n      </header>\n    </div>\n  );\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// 1) Scale input: The scale on architectural drawings are used to reflect a dimension on the drawing, which corresponds to a\n// dimension in real life. And example of a scale 1/8\" = 1'; this means that 1/8 inches on the drawing will correspond to 1 feet in\n// real life. The dimensions could be in the metric system (m^2 and lm) or imperial system (Sqft and lf).\n\n// 2) Draw Polygon: I will need to draw polygons inside Miro boards. The number of pixels cover by the polygon, based on the input\n// scale, will result in the area of the polygon in SquareFeet or SquareMeters. I will be great if I will be able to draw rectangles\n// too, which a special type of polygons.\n\n// 3) Draw line: I will need to draw line segments inside Miro boards. The number of pixels cover by the line, based on the input\n// scale, will result in the length of the line in Feet or Meters.\n\n// 4) Count Shapes: I will need to count certain objects on architectural drawings. We can achieve that by clicking shapes on top\n// of the concerned object and the count those shapes. No scale or dimension is needed for the shapes... only their count.\n\n// 5) Report: I will need to be able to extract the information created using the web plug-in that will be built, into excel. The\n// idea is to compile all the information of every polygon, line, or count done on the Miro board and create a report that provides structured information.\n\n// All polygons, lines, and count will have specific properties that will be needed to be attached to each of them. Some of these properties\n// area: Name - Area - Type - Floor - Perimeter - Length - Count. As discussed on our call, these properties can be input using a new UI\n// inside Miro (example was the menu that appears on the left of the screen when selecting an object)\n"],"sourceRoot":""}